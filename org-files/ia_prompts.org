:PROPERTIES:
:ID:       8ecc1892-6c70-4eee-a25c-fb84d06021b1
:END:
#+title: ia-prompts
#+STARTUP: overview
#+date: 2026-02-13
#+filetags: :prompt:pdf:json:

*** Modificaciones en SherloCaster
Para realizar modificaciones en la app primero hay que pasar el contexto, usaremos el siguiente promp y le añadiremos la salida del comando de abajo para dar info de los archivos.
#+begin_src
Soy el desarrollador de Sherlocaster, una aplicación dockerizada en Python que automatiza la creación de podcasts y que puedes ver en el repositorio https://github.com/sherlockes/sherlocaster. La app descarga audio de YouTube, Twitch y Kick, lo procesa a mono (64kbps), genera un feed RSS compatible y lo sube a un almacenamiento remoto mediante rclone.

Arquitectura:
- Stack: Python 3.12, FastAPI (Web), yt-dlp (YouTube), twitch-dl y Deno (Twitch).
- Componentes: Un contenedor para el worker (main.py) y otro para la API/Web (web.py).
- Persistencia: Carpeta /data para audio, estado JSON y el archivo feed.xml.

A continuación, te adjunto la salida actualizada de los archivos del sistema para que analices el estado actual del código.
#+end_src

Ejecutamos este comando desde Linux Mint accediendo en remoto al server conde corre docker y copiando la salida directamente al portapapeles.

#+begin_quote
Imprescindible tener instalado Xclip ~~sudo apt intall xclip~~
#+end_quote

#+begin_src bash
ssh sherlockes@uber "cd ~/dockers/sherlocaster/ && for f in docker-compose.yaml config.yaml app/main.py app/web.py app/downloader/youtube.py app/core/rss.py; do echo -e \"\n--- \$f ---\"; cat \$f; done" | xclip -selection clipboard
#+end_src

*** Crear artículo para Blog a partir de app web
#+begin_src txt
Quiero que escribas un artículo para mi blog https://www.sherblog.es

Contexto importante:
El blog está hecho con Hugo y los artículos están en Markdown.
El estilo debe ser igual al del resto de artículos del repositorio:
https://github.com/sherlockes/sherlockes.github.io
Analiza varios posts para imitar:
- tono cercano y divulgativo
- estructura de encabezados
- longitud de párrafos
- uso de listas y bloques de código si procede

Sobre la aplicación:

- URL de la app: [PEGAR AQUÍ]

- Qué hace la app: [EXPLICACIÓN BREVE]

- Por qué la creé: [MOTIVACIÓN]

- Tecnologías usadas: [OPCIONAL]

- Público objetivo: [OPCIONAL]

Requisitos del artículo:
- Máximo 500 palabras
- Formato Markdown compatible con Hugo
- La salida debe estar exclusivamente en Markdown válido.
- El título principal debe comenzar con ### (nivel 3 en Markdown).
- No incluyas explicaciones fuera del Markdown. 
- Incluir:
 - introducción breve
 - explicación clara de la funcionalidad
 - posibles usos prácticos
 - cierre natural invitando a probarla
 - Mantener el tono personal, técnico-divulgativo y conciso del blog.
 - No inventar información que no esté en la web de la app.

Devuélveme solo el Markdown del artículo, en formato markdown, listo para copiar en el repositorio.
#+end_src
*** Extraer menús de pdf para el cole

#+begin_src txt
Actúa como un experto en ingeniería de datos y extracción de contenido.
Procesa el PDF adjunto y conviértelo en un archivo JSON siguiendo estas reglas estrictas de limpieza y filtrado:

Filtrado de fechas: Guarda solo los días lectivos. Excluye fines de semana, días marcados como "FESTIVO" o periodos de "VACACIONES".
Extracción del Menú: >     * Extrae solo el menú de la comida principal.
Ignora y elimina toda la información que aparezca después del símbolo "(*)" (correspondiente a la recomendación de cena).

Limpieza de Contenido (Refinado):
Elimina cualquier mención al "pan" o "pan integral".
Elimina la palabra "Fruta".
Conserva el postre únicamente si es algo distinto a la fruta (por ejemplo: "Yogur").
Limpia espacios extra o saltos de línea innecesarios dentro del texto.

Estructura Técnica:
Genera un array de objetos con las llaves: "fecha" (en formato AAAA-MM-DD) y "menu" (el texto limpio).
No incluyas etiquetas de citación, notas al pie, ni texto explicativo. Solo el código JSON puro.
#+end_src

*** Extraer menú de pdf para "Menú de Sarita"
Uso este prompt en Gemini para añadir una nueva semana al menú a partir de un pdf en el que están incluidos todos los días y platos.

#+begin_quote
Actúa como un experto en ingeniería de datos y extracción de contenido. Procesa el PDF adjunto y conviértelo en un archivo JSON siguiendo estas reglas estrictas:

1. Estructura Jerárquica:
Raíz: "semanas".
Nivel 2: El número de la semana (ej: "3") como string.
Nivel 3: Días de la semana en minúsculas y sin tildes: "lunes", "martes", "miercoles", "jueves", "viernes", "sabado", "domingo".

2. Campos del Objeto Plato:
Cada plato debe ser un objeto con estos campos exactos:
"tipo": (Desayuno, Comida, Merienda o Cena).
"titulo": El nombre del plato.
"ingredientes": Un array de strings (limpia los puntos y guiones iniciales).
"pasos": Un array de strings con el proceso.
"consejo": Texto del apartado "Petit Consejos". Si no existe, pon null.

3. Reglas de Limpieza:
Si un campo de texto no existe, usa null.
Si un array no tiene contenido, usa [].
Elimina saltos de línea innecesarios dentro de los textos.

4. Formato Visual Crítico:
Devuelve únicamente el código JSON.

IMPORTANTE: Para que la estructura sea visual, formatea el JSON de modo que cada objeto de plato se escriba en una sola línea física (minificado internamente), pero manteniendo la indentación por días.

Ejemplo de estilo visual esperado:

```json
"lunes": [
  {"tipo": "Desayuno", "titulo": "Ejemplo", "ingredientes": ["A", "B"], "pasos": ["1", "2"], "consejo": null},
  {"tipo": "Comida", "titulo": "Ejemplo 2", "ingredientes": ["C"], "pasos": ["3"], "consejo": "Tip"}
]
```
#+end_quote
